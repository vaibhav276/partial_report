<!-- extend from base layout -->
{% extends "base.html" %}

{% block content %}
{% include "navbar.html" %}
<div class="container">
  <div class="row">
    {% if form %}
    <form action="" method="post" name="{{ url_for('experiment_trial',
    experiment_id = form.experiment_id) }}" style="display: none">
      {{ form.hidden_tag() }}

    <p>{{ form.experiment_id.label }}: {{ form.experiment_id }}
    <p>{{ form.trial_id.label }}: {{ form.trial_id }}
    <p>{{ form.trial_duration.label }}: {{ form.trial_duration }}
    <p>{{ form.trial_matrix.label }}: {{ form.trial_matrix.data }}
    <p>{{ form.trial_matrix_size.label }}: {{ form.trial_matrix_size }}
    <p>{{ form.trial_cue_row.label }}: {{ form.trial_cue_row }}
    <p>{{ form.trial_sequence_num.label }}: {{ form.trial_sequence_num }} / {{
    form.experiment_trials_count }}
    <p>{{ form.trial_response.label }} : {{ form.trial_response }}
    {% for error in form.trial_response.errors %}
    <span style="color: red;">[{{ error }}]</span>
    {% endfor %} <br>
    <p><input type="submit" value="Submit"></p>
    </form>
    <canvas id="trial_canvas" width="{{ form.trial_matrix_size * 100 }}" height="{{
    form.trial_matrix_size * 100 }}"class="center-block" />
    <canvas id="response_canvas" width="{{ form.trial_matrix_size * 100 }}"
                                 height="100 "class="center-block" />
    <link href="{{ url_for('static', filename='css/experiment_trial.css') }}" rel="stylesheet">
    <script src="{{ url_for('static', filename='js/experiment_trial.js') }}"></script>
    <script src="{{ url_for('static', filename='js/riffwave.js') }}"></script>
    <script>
      startTrial('{{ form.trial_matrix.data }}',
          {{ form.trial_matrix_size }},
          {{ form.trial_cue_row }},
          {{ form.trial_duration }}
          );
    </script>
    {% endif %}
  </div>
</div>
{% endblock %}
